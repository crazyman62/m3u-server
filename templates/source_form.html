{% extends "base.html" %}

{% block content %}
  <form id="sourceForm" method="POST" action="{{ url_for('add_source') }}" novalidate>
      {{ form.csrf_token }} {# CSRF token #}
      <div class="mb-3">
          {{ form.m3u_url.label(class="form-label") }}
          {{ form.m3u_url(class="form-control" + (" is-invalid" if form.m3u_url.errors else ""), placeholder="http://example.com/playlist.m3u") }}
          {% for error in form.m3u_url.errors %}
            <div class="invalid-feedback">{{ error }}</div>
          {% endfor %}
      </div>
      <div>
          <button type="submit" id="submitBtn" class="btn btn-primary">
             {{ form.submit.label.text }}
          </button>
          {# No spinner needed here as adding is quick #}
      </div>
  </form>
{% endblock %}